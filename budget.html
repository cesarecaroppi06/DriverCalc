<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="google-site-verification" content="kmIGijz5M1YZgDFPKwUIVKWC-txs7ysQxgjo8APsHks">
    <title>DriveCalc | Calcolatore costo viaggio con pedaggi e carburante</title>
    <meta name="description" content="Calcola costo viaggio auto con pedaggi autostradali aggiornati, carburante, tempo di viaggio e km su autostrada o strade ordinarie.">
    <meta name="robots" content="index,follow,max-image-preview:large">
    <link rel="canonical" href="https://drivercalc.onrender.com/">
    <meta property="og:locale" content="it_IT">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="DriveCalc">
    <meta property="og:title" content="DriveCalc | Calcolatore costo viaggio con pedaggi e carburante">
    <meta property="og:description" content="Calcola costo viaggio auto con pedaggi autostradali aggiornati, carburante, tempo di viaggio e km su autostrada o strade ordinarie.">
    <meta property="og:url" content="https://drivercalc.onrender.com/">
    <meta property="og:image" content="https://drivercalc.onrender.com/assets/icons/icon-512.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="DriveCalc | Calcolatore costo viaggio con pedaggi e carburante">
    <meta name="twitter:description" content="Calcola costo viaggio auto con pedaggi autostradali aggiornati, carburante, tempo di viaggio e km su autostrada o strade ordinarie.">
    <meta name="twitter:image" content="https://drivercalc.onrender.com/assets/icons/icon-512.png">
    <meta name="theme-color" content="#0b1021">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="DriveCalc">
    <link rel="icon" type="image/png" href="logo.png?v=3">
    <link rel="apple-touch-icon" href="assets/icons/apple-touch-icon.png">
    <link rel="manifest" href="manifest.webmanifest">
    <link rel="stylesheet" href="style.css?v=38">
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebApplication",
            "name": "DriveCalc",
            "url": "https://drivercalc.onrender.com/",
            "applicationCategory": "TravelApplication",
            "operatingSystem": "Web",
            "inLanguage": "it-IT",
            "description": "Calcolatore costi di viaggio con pedaggi, carburante, tempo percorso e km su autostrade e strade ordinarie."
        }
    </script>
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "FAQPage",
            "mainEntity": [
                {
                    "@type": "Question",
                    "name": "Come si calcola il costo totale di un viaggio in auto?",
                    "acceptedAnswer": {
                        "@type": "Answer",
                        "text": "Il costo totale include carburante, pedaggi autostradali e altre spese opzionali. DriveCalc combina distanza, consumo medio, prezzo carburante e stima pedaggi per fornire un totale rapido."
                    }
                },
                {
                    "@type": "Question",
                    "name": "I pedaggi mostrati sono aggiornati?",
                    "acceptedAnswer": {
                        "@type": "Answer",
                        "text": "DriveCalc usa in priorita dati live di routing quando disponibili e mostra sempre la fonte del pedaggio per distinguere importi ufficiali da eventuali stime fallback."
                    }
                },
                {
                    "@type": "Question",
                    "name": "Posso vedere i km fatti in autostrada e i km su altre strade?",
                    "acceptedAnswer": {
                        "@type": "Answer",
                        "text": "Si. Nel risultato del percorso trovi la suddivisione chilometrica tra autostrade e altre strade, insieme al tempo totale di viaggio."
                    }
                }
            ]
        }
    </script>
</head>
<body>
    <div class="container">
        <button id="desktopMenuToggle" class="desktop-menu-toggle" type="button" aria-expanded="false" aria-controls="settingsMenu" aria-label="Apri o chiudi menu">
            <span class="hamburger-icon" aria-hidden="true">
                <span></span>
                <span></span>
                <span></span>
            </span>
        </button>
        <header>
            <img src="logo.png?v=3" alt="Logo DriveCalc" class="site-logo" width="256" height="256" decoding="async" fetchpriority="high">
            <h1>DriveCalc</h1>
            <div class="header-content">
                <p class="subtitle">Calcolatore costi di viaggio</p>
            </div>
        </header>

        <div class="layout-body">
            <div class="mobile-top-actions">
                <button id="mobileMenuToggle" class="mobile-menu-toggle" type="button" aria-expanded="false" aria-controls="settingsMenu" aria-label="Apri o chiudi menu">
                    <span class="hamburger-icon" aria-hidden="true">
                        <span></span>
                        <span></span>
                        <span></span>
                    </span>
                    <span class="hamburger-label">Menu</span>
                </button>
                <button id="installAppQuickBtn" class="install-app-btn mobile-install-btn" type="button">Installa App</button>
            </div>
            <div id="mobileMenuBackdrop" class="mobile-menu-backdrop" style="display:none;"></div>
            <nav id="settingsMenu" class="settings-menu" aria-hidden="true">
                <div class="settings-menu-header">
                    <div class="sidebar-brand" aria-label="DriveCalc">
                        <img src="logo.png?v=3" alt="" aria-hidden="true" width="56" height="56" decoding="async">
                        <span>DRIVECALC</span>
                    </div>
                    <button id="installAppBtn" class="install-app-btn settings-install-btn" type="button">Installa App</button>
                    <button id="closeSettingsMenu" class="close-btn settings-menu-close" type="button" aria-label="Chiudi menu">X</button>
                </div>
                <ul>
                    <li><button id="homeBtn" class="active">Home</button></li>
                    <li><button id="budgetBtn">Bilancio</button></li>
                    <li><button id="companionsBtn">Tratta in compagnia</button></li>
                    <li><button id="friendsBtn">I miei amici</button></li>
                    <li><button id="fuelFinderBtn">Ricerca benzinaio smart</button></li>
                    <li><button id="aiChatBtn">Chat AI</button></li>
                    <li><button id="favoritesBtn">Preferiti</button></li>
                    <li><button id="securityBtn">Sicurezza</button></li>
                    <li><button id="infoBtn">Info</button></li>
                    <li class="settings-account-item">
                        <button id="accountBtn" class="settings-account-btn" type="button">
                            <span class="settings-account-avatar-wrap">
                                <img id="sidebarAccountAvatar" class="settings-account-avatar" alt="Profilo account">
                            </span>
                            <span class="settings-account-copy">
                                <strong id="sidebarAccountName">Il mio account</strong>
                                <span id="sidebarAccountMeta">Accedi o registrati</span>
                            </span>
                        </button>
                    </li>
                </ul>
            </nav>

            <main>
            <div class="calculator-section">
                <div class="form-group">
                    <label for="departureAddress">Punto di Partenza (città, via o luogo):</label>
                    <select id="departure" required class="location-hidden" aria-hidden="true" tabindex="-1">
                        <option value="">Seleziona città...</option>
                    </select>
                    <input type="text" id="departureAddress" class="filter-input" placeholder="Scrivi città, indirizzo o luogo (es. Roma / Colosseo / Bar Centrale Milano)">
                    <div id="departureAddressResults" class="filter-results" aria-live="polite"></div>
                    <button id="useLocationBtn" class="pill-btn" type="button">Usa la mia posizione</button>
                </div>

                <div class="form-group">
                    <label for="arrivalAddress">Punto di Arrivo (città, via o luogo):</label>
                    <select id="arrival" required class="location-hidden" aria-hidden="true" tabindex="-1">
                        <option value="">Seleziona città...</option>
                    </select>
                    <input type="text" id="arrivalAddress" class="filter-input" placeholder="Scrivi città, indirizzo o luogo (es. Ferrara / Duomo di Milano / Ristorante a Roma)">
                    <div id="arrivalAddressResults" class="filter-results" aria-live="polite"></div>
                </div>

                <div class="form-group">
                    <label for="carBrandSearch">Marca di Macchina:</label>
                    <input type="text" id="carBrandSearch" class="filter-input" placeholder="Scrivi marca (es. Fiat, Toyota)">
                    <div id="carBrandResults" class="filter-results" aria-live="polite"></div>
                    <select id="carBrand" required class="location-hidden" aria-hidden="true" tabindex="-1">
                        <option value="">Seleziona marca...</option>
                        <option value="brand-fiat">Fiat (medio) - 5.8 L/100 km</option>
                        <option value="brand-toyota">Toyota (medio) - 5.2 L/100 km</option>
                        <option value="brand-volkswagen">Volkswagen (medio) - 5.5 L/100 km</option>
                        <option value="brand-renault">Renault (medio) - 5.4 L/100 km</option>
                        <option value="brand-peugeot">Peugeot (medio) - 5.3 L/100 km</option>
                        <option value="brand-ford">Ford (medio) - 5.6 L/100 km</option>
                        <option value="brand-opel">Opel (medio) - 5.5 L/100 km</option>
                        <option value="brand-bmw">BMW (medio) - 6.0 L/100 km</option>
                        <option value="brand-mercedes">Mercedes (medio) - 6.2 L/100 km</option>
                        <option value="brand-audi">Audi (medio) - 5.9 L/100 km</option>
                        <option value="brand-kia">Kia (medio) - 5.7 L/100 km</option>
                        <option value="brand-hyundai">Hyundai (medio) - 5.6 L/100 km</option>
                        <option value="brand-nissan">Nissan (medio) - 5.8 L/100 km</option>
                        <option value="brand-dacia">Dacia (medio) - 5.5 L/100 km</option>
                        <option value="brand-jeep">Jeep (medio) - 7.2 L/100 km</option>
                        <option value="brand-alfa-romeo">Alfa Romeo (medio) - 6.1 L/100 km</option>
                        <option value="brand-volvo">Volvo (medio) - 6.8 L/100 km</option>
                        <option value="brand-skoda">Skoda (medio) - 5.3 L/100 km</option>
                        <option value="brand-seat">Seat (medio) - 5.5 L/100 km</option>
                        <option value="brand-citroen">Citroën (medio) - 5.6 L/100 km</option>
                        <option value="brand-tesla">Tesla (medio) - 16.5 kWh/100 km</option>
                        <option value="brand-mazda">Mazda (medio) - 6.2 L/100 km</option>
                        <option value="brand-honda">Honda (medio) - 5.5 L/100 km</option>
                        <option value="brand-suzuki">Suzuki (medio) - 5.0 L/100 km</option>
                        <option value="brand-land-rover">Land Rover (medio) - 8.0 L/100 km</option>
                        <option value="brand-lexus">Lexus (medio) - 6.0 L/100 km</option>
                        <option value="brand-mitsubishi">Mitsubishi (medio) - 6.6 L/100 km</option>
                        <option value="brand-subaru">Subaru (medio) - 6.9 L/100 km</option>
                        <option value="brand-porsche">Porsche (medio) - 9.5 L/100 km</option>
                        <option value="brand-mini">Mini (medio) - 6.0 L/100 km</option>
                        <option value="brand-smart">Smart (medio) - 16.5 kWh/100 km</option>
                        <option value="brand-byd">BYD (medio) - 16.0 kWh/100 km</option>
                        <option value="brand-mg">MG (medio) - 6.8 L/100 km</option>
                        <option value="brand-dr">DR (medio) - 7.5 L/100 km</option>
                        <option value="brand-ds">DS (medio) - 5.5 L/100 km</option>
                        <option value="brand-maserati">Maserati (medio) - 9.5 L/100 km</option>
                        <option value="brand-jaguar">Jaguar (medio) - 7.0 L/100 km</option>
                        <option value="brand-cupra">Cupra (medio) - 6.3 L/100 km</option>
                        <option value="brand-lancia">Lancia (medio) - 5.2 L/100 km</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="carTypeSearch">Modello di Macchina:</label>
                    <input type="text" id="carTypeSearch" class="filter-input" placeholder="Scrivi modello (es. Panda, Golf, Model 3)">
                    <div id="carTypeResults" class="filter-results" aria-live="polite"></div>
                    <select id="carType" required class="location-hidden" aria-hidden="true" tabindex="-1">
                        <option value="">Seleziona modello...</option>
                        <optgroup label="Categorie generali">
                            <option value="city-car">City Car (Fiat Panda, Toyota Aygo)</option>
                            <option value="sedan">Berlina (Toyota Corolla, VW Golf)</option>
                            <option value="suv">SUV (Toyota RAV4, Jeep Grand Cherokee)</option>
                            <option value="estate">Station Wagon (Audi A4 allroad, BMW 3 Series)</option>
                            <option value="hybrid">Ibrida (Toyota Prius)</option>
                            <option value="electric">Full Electric (Tesla Model 3, Nissan Leaf)</option>
                        </optgroup>
                        <optgroup label="Modelli (anno e consumo)">
                            <option value="fiat-panda-2024">Fiat Panda 1.0 Hybrid (2024) - 4.7 L/100 km</option>
                            <option value="toyota-aygo-x-2024">Toyota Aygo X 1.0 (2024) - 4.8 L/100 km</option>
                            <option value="vw-golf-15tsi-2024">VW Golf 1.5 TSI (2024) - 5.6 L/100 km</option>
                            <option value="vw-golf-20tdi-2024">VW Golf 2.0 TDI (2024) - 4.7 L/100 km</option>
                            <option value="toyota-corolla-hybrid-2024">Toyota Corolla 1.8 Hybrid (2024) - 4.4 L/100 km</option>
                            <option value="tesla-model-3-2024">Tesla Model 3 RWD (2024) - 14.5 kWh/100 km</option>
                            <option value="nissan-leaf-62-2022">Nissan Leaf 62 kWh (2022) - 17.0 kWh/100 km</option>
                            <option value="jeep-renegade-16mjt-2024">Jeep Renegade 1.6 Mjt (2024) - 5.4 L/100 km</option>
                            <option value="bmw-320d-2024">BMW 320d (2024) - 5.1 L/100 km</option>
                            <option value="audi-a4-35tdi-2024">Audi A4 35 TDI (2024) - 5.3 L/100 km</option>
                            <option value="fiat-500-2024">Fiat 500 1.0 Hybrid (2024) - 4.6 L/100 km</option>
                            <option value="dacia-sandero-gpl-2024">Dacia Sandero ECO-G 100 (2024) - 6.8 L/100 km GPL</option>
                            <option value="renault-clio-15dci-2024">Renault Clio 1.5 Blue dCi (2024) - 4.2 L/100 km</option>
                            <option value="ford-puma-10mhev-2024">Ford Puma 1.0 EcoBoost MHEV (2024) - 5.5 L/100 km</option>
                            <option value="toyota-yaris-hybrid-2024">Toyota Yaris 1.5 Hybrid (2024) - 4.0 L/100 km</option>
                            <option value="peugeot-208-15bluedci-2024">Peugeot 208 1.5 BlueHDi (2024) - 4.1 L/100 km</option>
                            <option value="vw-polo-10tsi-2024">VW Polo 1.0 TSI (2024) - 5.0 L/100 km</option>
                            <option value="vw-tiguan-20tdi-2024">VW Tiguan 2.0 TDI (2024) - 5.8 L/100 km</option>
                            <option value="hyundai-tucson-hybrid-2024">Hyundai Tucson 1.6 Hybrid (2024) - 5.8 L/100 km</option>
                            <option value="fiat-500e-2024">Fiat 500e 42 kWh (2024) - 14.8 kWh/100 km</option>
                            <option value="peugeot-e208-2024">Peugeot e-208 (2024) - 15.5 kWh/100 km</option>
                            <option value="renault-zoe-2024">Renault Zoe R135 (2024) - 17.4 kWh/100 km</option>
                            <option value="jeep-avenger-2024">Jeep Avenger 1.2 Turbo (2024) - 5.5 L/100 km</option>
                            <option value="citroen-c3-2024">Citroën C3 1.2 PureTech (2024) - 5.6 L/100 km</option>
                            <option value="dacia-duster-2024">Dacia Duster 1.5 Blue dCi (2024) - 4.9 L/100 km</option>
                            <option value="toyota-yaris-cross-2024">Toyota Yaris Cross Hybrid (2024) - 5.0 L/100 km</option>
                            <option value="mg-zs-2024">MG ZS 1.5 VTI (2024) - 7.2 L/100 km</option>
                            <option value="renault-captur-2024">Renault Captur E-Tech Hybrid (2024) - 5.2 L/100 km</option>
                            <option value="vw-t-roc-2024">Volkswagen T-Roc 1.5 TSI (2024) - 6.0 L/100 km</option>
                            <option value="fiat-600-2024">Fiat 600 1.2 Hybrid (2024) - 5.6 L/100 km</option>
                            <option value="opel-corsa-2024">Opel Corsa 1.2 Turbo (2024) - 5.4 L/100 km</option>
                            <option value="vw-t-cross-2024">Volkswagen T-Cross 1.0 TSI (2024) - 5.5 L/100 km</option>
                            <option value="peugeot-2008-2024">Peugeot 2008 1.2 PureTech (2024) - 5.7 L/100 km</option>
                            <option value="bmw-x1-2024">BMW X1 sDrive18d (2024) - 5.7 L/100 km</option>
                            <option value="nissan-qashqai-2024">Nissan Qashqai Mild Hybrid (2024) - 6.6 L/100 km</option>
                            <option value="kia-sportage-2024">Kia Sportage 1.6 CRDi (2024) - 5.5 L/100 km</option>
                            <option value="toyota-chr-2024">Toyota C-HR Hybrid (2024) - 4.9 L/100 km</option>
                            <option value="peugeot-3008-2024">Peugeot 3008 1.5 BlueHDi (2024) - 5.0 L/100 km</option>
                            <option value="audi-a3-2024">Audi A3 30 TDI (2024) - 4.7 L/100 km</option>
                            <option value="alfa-romeo-junior-2025">Alfa Romeo Junior Ibrida (2025) - 5.2 L/100 km</option>
                            <option value="mg3-2024">MG3 1.5 VTi-Tech (2024) - 6.2 L/100 km</option>
                            <option value="hyundai-i10-2024">Hyundai i10 1.0 (2024) - 5.2 L/100 km</option>
                            <option value="nissan-juke-2024">Nissan Juke 1.0 DIG-T (2024) - 6.2 L/100 km</option>
                            <option value="ford-focus-2024">Ford Focus 1.0 EcoBoost (2024) - 5.8 L/100 km</option>
                            <option value="byd-seal-u-2024">BYD Seal U EV (2024) - 17.5 kWh/100 km</option>
                            <option value="kia-picanto-2024">Kia Picanto 1.0 (2024) - 5.0 L/100 km</option>
                            <option value="mercedes-gla-2024">Mercedes GLA 200d (2024) - 5.3 L/100 km</option>
                            <option value="audi-q3-2024">Audi Q3 35 TDI (2024) - 5.7 L/100 km</option>
                            <option value="ford-kuga-2024">Ford Kuga 1.5 EcoBlue (2024) - 5.5 L/100 km</option>
                            <option value="ford-tourneo-courier-2024">Ford Tourneo Courier 1.0 (2024) - 6.5 L/100 km</option>
                            <option value="alfa-romeo-tonale-2024">Alfa Romeo Tonale 1.5 Hybrid (2024) - 5.6 L/100 km</option>
                            <option value="suzuki-swift-2024">Suzuki Swift 1.2 Hybrid (2024) - 4.7 L/100 km</option>
                            <option value="skoda-fabia-2024">Škoda Fabia 1.0 TSI (2024) - 5.3 L/100 km</option>
                            <option value="suzuki-vitara-2024">Suzuki Vitara 1.4 Hybrid (2024) - 5.8 L/100 km</option>
                            <option value="skoda-kamiq-2024">Škoda Kamiq 1.0 TSI (2024) - 5.4 L/100 km</option>
                            <option value="vw-taigo-2024">Volkswagen Taigo 1.0 TSI (2024) - 5.3 L/100 km</option>
                            <option value="lancia-ypsilon-2024">Lancia Ypsilon 1.0 Hybrid (2024) - 4.8 L/100 km</option>
                            <option value="audi-a1-2024">Audi A1 30 TFSI (2024) - 5.3 L/100 km</option>
                            <option value="bmw-serie1-2024">BMW Serie 1 118d (2024) - 5.0 L/100 km</option>
                            <option value="renault-symbioz-2024">Renault Symbioz E-Tech (2024) - 4.7 L/100 km</option>
                            <option value="dr-50-2024">DR 5.0 1.5 Turbo (2024) - 7.8 L/100 km</option>
                            <option value="volvo-xc40-2024">Volvo XC40 B4 (2024) - 7.1 L/100 km</option>
                            <option value="fiat-500x-2024">Fiat 500X 1.0 T3 (2024) - 6.4 L/100 km</option>
                            <option value="fiat-tipo-2024">Fiat Tipo 1.0 T3 (2024) - 5.9 L/100 km</option>
                            <option value="jeep-compass-2024">Jeep Compass 1.5 e-Hybrid (2024) - 6.6 L/100 km</option>
                            <option value="citroen-c3-aircross-2024">Citroën C3 Aircross 1.2 (2024) - 6.0 L/100 km</option>
                            <option value="peugeot-5008-2024">Peugeot 5008 1.5 BlueHDi (2024) - 5.6 L/100 km</option>
                            <option value="peugeot-308-2024">Peugeot 308 1.2 PureTech (2024) - 5.6 L/100 km</option>
                            <option value="renault-austral-2024">Renault Austral E-Tech (2024) - 5.5 L/100 km</option>
                            <option value="opel-mokka-2024">Opel Mokka 1.2 Turbo (2024) - 5.8 L/100 km</option>
                            <option value="opel-crossland-2024">Opel Crossland 1.2 Turbo (2024) - 5.9 L/100 km</option>
                            <option value="ford-fiesta-2024">Ford Fiesta 1.0 EcoBoost (2024) - 5.4 L/100 km</option>
                            <option value="ford-ecosport-2024">Ford EcoSport 1.0 EcoBoost (2024) - 6.5 L/100 km</option>
                            <option value="hyundai-i20-2024">Hyundai i20 1.0 T-GDi (2024) - 5.3 L/100 km</option>
                            <option value="hyundai-kona-2024">Hyundai Kona 1.0 T-GDi (2024) - 5.9 L/100 km</option>
                            <option value="hyundai-santa-fe-2024">Hyundai Santa Fe Hybrid (2024) - 6.8 L/100 km</option>
                            <option value="kia-ceed-2024">Kia Ceed 1.0 T-GDi (2024) - 5.5 L/100 km</option>
                            <option value="kia-niro-2024">Kia Niro Hybrid (2024) - 4.8 L/100 km</option>
                            <option value="kia-sorento-2024">Kia Sorento Hybrid (2024) - 7.0 L/100 km</option>
                            <option value="nissan-micra-2024">Nissan Micra 1.0 IG-T (2024) - 5.6 L/100 km</option>
                            <option value="mazda-cx3-2024">Mazda CX-3 2.0 (2024) - 6.6 L/100 km</option>
                            <option value="mazda-cx30-2024">Mazda CX-30 2.0 (2024) - 6.4 L/100 km</option>
                            <option value="mazda-cx5-2024">Mazda CX-5 2.2d (2024) - 6.0 L/100 km</option>
                            <option value="audi-a6-2024">Audi A6 40 TDI (2024) - 5.7 L/100 km</option>
                            <option value="mercedes-classe-a-2024">Mercedes Classe A 180d (2024) - 5.1 L/100 km</option>
                            <option value="mercedes-classe-c-2024">Mercedes Classe C 200d (2024) - 5.5 L/100 km</option>
                            <option value="mercedes-classe-e-2024">Mercedes Classe E 220d (2024) - 5.6 L/100 km</option>
                            <option value="bmw-serie3-2024">BMW Serie 3 320d (2024) - 5.2 L/100 km</option>
                            <option value="bmw-serie5-2024">BMW Serie 5 520d (2024) - 5.4 L/100 km</option>
                            <option value="volvo-xc60-2024">Volvo XC60 B4 (2024) - 6.9 L/100 km</option>
                            <option value="volvo-s60-2024">Volvo S60/V60 B4 (2024) - 6.3 L/100 km</option>
                            <option value="seat-leon-2024">Seat Leon 1.5 TSI (2024) - 5.7 L/100 km</option>
                            <option value="seat-arona-2024">Seat Arona 1.0 TSI (2024) - 5.5 L/100 km</option>
                            <option value="skoda-octavia-2024">Skoda Octavia 2.0 TDI (2024) - 4.7 L/100 km</option>
                            <option value="skoda-superb-2024">Skoda Superb 2.0 TDI (2024) - 5.5 L/100 km</option>
                            <option value="toyota-highlander-2024">Toyota Highlander Hybrid (2024) - 7.1 L/100 km</option>
                            <option value="honda-civic-2024">Honda Civic e:HEV (2024) - 4.7 L/100 km</option>
                            <option value="honda-crv-2024">Honda CR-V e:HEV (2024) - 6.4 L/100 km</option>
                            <option value="tesla-model-y-2024">Tesla Model Y RWD (2024) - 15.9 kWh/100 km</option>
                            <option value="byd-dolphin-2024">BYD Dolphin (2024) - 14.5 kWh/100 km</option>
                            <option value="omoda-5-2024">Omoda 5 EV (2024) - 17.8 kWh/100 km</option>
                            <option value="jaguar-e-pace-2024">Jaguar E-Pace D165 (2024) - 6.9 L/100 km</option>
                            <option value="fiat-punto-2012">Fiat Punto 1.2 (2012) - 6.0 L/100 km</option>
                            <option value="fiat-grande-punto-2015">Fiat Grande Punto 1.3 MJET (2015) - 4.6 L/100 km</option>
                            <option value="fiat-bravo-2014">Fiat Bravo 1.6 MJET (2014) - 5.0 L/100 km</option>
                            <option value="fiat-124-spider-2018">Fiat 124 Spider 1.4 (2018) - 6.4 L/100 km</option>
                            <option value="fiat-qubo-2018">Fiat Qubo 1.3 MJET (2018) - 5.1 L/100 km</option>
                            <option value="fiat-doblo-2020">Fiat Doblo 1.6 MJET (2020) - 5.8 L/100 km</option>
                            <option value="fiat-freemont-2014">Fiat Freemont 2.0 MJET (2014) - 7.5 L/100 km</option>
                            <option value="fiat-fiorino-2019">Fiat Fiorino 1.3 MJET (2019) - 5.1 L/100 km</option>
                            <option value="fiat-scudo-2022">Fiat Scudo 2.0 (2022) - 6.9 L/100 km</option>
                            <option value="lancia-delta-2014">Lancia Delta 1.6 MJET (2014) - 5.4 L/100 km</option>
                            <option value="lancia-musa-2012">Lancia Musa 1.3 MJET (2012) - 5.0 L/100 km</option>
                            <option value="toyota-supra-2024">Toyota Supra 3.0 (2024) - 8.2 L/100 km</option>
                            <option value="dacia-jogger-2024">Dacia Jogger 1.0 TCe (2024) - 6.2 L/100 km</option>
                            <option value="renault-megane-2024">Renault Megane 1.3 TCe (2024) - 6.0 L/100 km</option>
                            <option value="renault-scenic-2024">Renault Scenic E-Tech (2024) - 15.4 kWh/100 km</option>
                            <option value="renault-talisman-2020">Renault Talisman 1.7 dCi (2020) - 5.5 L/100 km</option>
                            <option value="renault-kadjar-2022">Renault Kadjar 1.3 TCe (2022) - 6.4 L/100 km</option>
                            <option value="citroen-c4-2024">Citroën C4 1.2 (2024) - 5.7 L/100 km</option>
                            <option value="citroen-c5-aircross-2024">Citroën C5 Aircross 1.5 BlueHDi (2024) - 5.1 L/100 km</option>
                            <option value="peugeot-407-2010">Peugeot 407 2.0 HDi (2010) - 6.5 L/100 km</option>
                            <option value="peugeot-508-2024">Peugeot 508 1.5 BlueHDi (2024) - 4.8 L/100 km</option>
                            <option value="peugeot-206-2009">Peugeot 206 1.4 (2009) - 6.2 L/100 km</option>
                            <option value="opel-astra-2024">Opel Astra 1.2 Turbo (2024) - 5.5 L/100 km</option>
                            <option value="opel-insignia-2020">Opel Insignia 2.0 CDTI (2020) - 5.7 L/100 km</option>
                            <option value="opel-adam-2018">Opel Adam 1.2 (2018) - 5.4 L/100 km</option>
                            <option value="ford-mondeo-2020">Ford Mondeo 2.0 EcoBlue (2020) - 5.8 L/100 km</option>
                            <option value="vw-passat-2024">Volkswagen Passat 2.0 TDI (2024) - 4.9 L/100 km</option>
                            <option value="vw-touran-2022">Volkswagen Touran 2.0 TDI (2022) - 5.2 L/100 km</option>
                            <option value="vw-up-2023">Volkswagen Up 1.0 (2023) - 5.0 L/100 km</option>
                            <option value="vw-touareg-2024">Volkswagen Touareg 3.0 TDI (2024) - 7.5 L/100 km</option>
                            <option value="vw-sharan-2020">Volkswagen Sharan 2.0 TDI (2020) - 6.1 L/100 km</option>
                            <option value="vw-touran-2022">Volkswagen Touran 2.0 TDI (2022) - 5.2 L/100 km</option>
                            <option value="vw-caddy-2023">Volkswagen Caddy 2.0 TDI (2023) - 5.7 L/100 km</option>
                            <option value="vw-golf-variant">Volkswagen Golf Variant (2023) - 5.5 L/100 km</option>
                            <option value="bmw-x3-2024">BMW X3 20d (2024) - 6.2 L/100 km</option>
                            <option value="bmw-x5-2024">BMW X5 30d (2024) - 7.0 L/100 km</option>
                            <option value="mercedes-glc-2024">Mercedes GLC 220d (2024) - 5.9 L/100 km</option>
                            <option value="mercedes-gle-2024">Mercedes GLE 300d (2024) - 6.8 L/100 km</option>
                            <option value="audi-q5-2024">Audi Q5 40 TDI (2024) - 5.9 L/100 km</option>
                            <option value="audi-q7-2024">Audi Q7 45 TDI (2024) - 7.1 L/100 km</option>
                            <option value="porsche-macan-2024">Porsche Macan 2.0 (2024) - 8.8 L/100 km</option>
                            <option value="porsche-cayenne-2024">Porsche Cayenne 3.0 (2024) - 9.8 L/100 km</option>
                            <option value="land-rover-range-rover-2024">Land Rover Range Rover D300 (2024) - 8.3 L/100 km</option>
                            <option value="land-rover-discovery-2024">Land Rover Discovery D250 (2024) - 8.0 L/100 km</option>
                            <option value="land-rover-defender-2024">Land Rover Defender D250 (2024) - 8.2 L/100 km</option>
                            <option value="land-rover-evoque-2024">Land Rover Evoque D165 (2024) - 6.9 L/100 km</option>
                            <option value="lexus-nx-2024">Lexus NX 350h (2024) - 5.8 L/100 km</option>
                            <option value="lexus-ux-2024">Lexus UX 250h (2024) - 5.3 L/100 km</option>
                            <option value="lexus-rx-2024">Lexus RX 450h+ (2024) - 6.7 L/100 km</option>
                            <option value="seat-ibiza-2024">Seat Ibiza 1.0 TSI (2024) - 5.3 L/100 km</option>
                            <option value="seat-tarraco-2024">Seat Tarraco 2.0 TDI (2024) - 6.4 L/100 km</option>
                            <option value="cupra-formentor-2024">Cupra Formentor 1.5 TSI (2024) - 6.0 L/100 km</option>
                            <option value="cupra-leon-2024">Cupra Leon 1.5 TSI (2024) - 6.1 L/100 km</option>
                            <option value="ds3-2024">DS 3 1.2 PureTech (2024) - 5.7 L/100 km</option>
                            <option value="ds4-2024">DS 4 1.5 BlueHDi (2024) - 4.8 L/100 km</option>
                            <option value="ds7-2024">DS 7 1.5 BlueHDi (2024) - 5.2 L/100 km</option>
                            <option value="maserati-ghibli-2023">Maserati Ghibli Hybrid (2023) - 8.6 L/100 km</option>
                            <option value="maserati-levante-2023">Maserati Levante 2.0 Hybrid (2023) - 9.4 L/100 km</option>
                            <option value="maserati-quattroporte-2020">Maserati Quattroporte 3.0 (2020) - 10.5 L/100 km</option>
                            <option value="jaguar-f-pace-2024">Jaguar F-Pace D200 (2024) - 6.8 L/100 km</option>
                            <option value="jaguar-xe-2021">Jaguar XE D200 (2021) - 5.7 L/100 km</option>
                            <option value="jaguar-xf-2021">Jaguar XF D200 (2021) - 5.9 L/100 km</option>
                            <option value="jeep-wrangler-2024">Jeep Wrangler 2.0 (2024) - 10.5 L/100 km</option>
                            <option value="jeep-grand-cherokee-2024">Jeep Grand Cherokee 4xe (2024) - 9.0 L/100 km</option>
                            <option value="jeep-cherokee-2020">Jeep Cherokee 2.0 (2020) - 8.9 L/100 km</option>
                            <option value="alfa-romeo-giulietta-2020">Alfa Romeo Giulietta 1.6 JTDM (2020) - 5.1 L/100 km</option>
                            <option value="alfa-romeo-giulia-2024">Alfa Romeo Giulia 2.2 (2024) - 5.3 L/100 km</option>
                            <option value="alfa-romeo-stelvio-2024">Alfa Romeo Stelvio 2.2 (2024) - 6.0 L/100 km</option>
                            <option value="alfa-romeo-159-2011">Alfa Romeo 159 2.0 JTDM (2011) - 6.1 L/100 km</option>
                            <option value="alfa-romeo-spider-2010">Alfa Romeo Spider 2.2 (2010) - 8.2 L/100 km</option>
                            <option value="suzuki-ignis-2024">Suzuki Ignis Hybrid (2024) - 4.7 L/100 km</option>
                            <option value="suzuki-s-cross-2024">Suzuki S-Cross Hybrid (2024) - 5.8 L/100 km</option>
                            <option value="mitsubishi-outlander-2024">Mitsubishi Outlander PHEV (2024) - 7.4 L/100 km</option>
                            <option value="mitsubishi-asx-2023">Mitsubishi ASX 1.3 (2023) - 6.5 L/100 km</option>
                            <option value="subaru-forester-2024">Subaru Forester e-Boxer (2024) - 7.2 L/100 km</option>
                            <option value="subaru-impreza-2024">Subaru Impreza 2.0 (2024) - 6.8 L/100 km</option>
                            <option value="land-rover-range-rover-sport-2024">Land Rover Range Rover Sport D300 (2024) - 8.5 L/100 km</option>
                            <option value="mini-cooper-2024">Mini Cooper 1.5 (2024) - 5.8 L/100 km</option>
                            <option value="mini-countryman-2024">Mini Countryman 1.5 (2024) - 6.3 L/100 km</option>
                            <option value="smart-fortwo-2020">Smart ForTwo EQ (2020) - 15.9 kWh/100 km</option>
                            <option value="smart-forfour-2020">Smart ForFour EQ (2020) - 17.0 kWh/100 km</option>
                            <option value="renault-zoe-2024">Renault Zoe R135 (2024) - 17.4 kWh/100 km</option>
                            <option value="honda-jazz-2024">Honda Jazz e:HEV (2024) - 4.5 L/100 km</option>
                            <option value="honda-hrv-2024">Honda HR-V e:HEV (2024) - 5.4 L/100 km</option>
                            <option value="honda-accord-2019">Honda Accord 2.0 Hybrid (2019) - 5.4 L/100 km</option>
                            <option value="nissan-note-2017">Nissan Note 1.5 dCi (2017) - 4.6 L/100 km</option>
                            <option value="toyota-verso-2018">Toyota Verso 1.8 (2018) - 6.8 L/100 km</option>
                            <option value="mazda6-2020">Mazda 6 2.2d (2020) - 5.8 L/100 km</option>
                            <option value="toyota-land-cruiser-2024">Toyota Land Cruiser 2.8 D (2024) - 8.9 L/100 km</option>
                            <option value="nissan-xtrail-2024">Nissan X-Trail e-Power (2024) - 6.8 L/100 km</option>
                            <option value="toyota-proace-2023">Toyota Proace 2.0 D (2023) - 6.6 L/100 km</option>
                            <option value="peugeot-partner-2023">Peugeot Partner 1.5 BlueHDi (2023) - 5.8 L/100 km</option>
                            <option value="citroen-berlingo-2023">Citroën Berlingo 1.5 BlueHDi (2023) - 5.8 L/100 km</option>
                            <option value="peugeot-traveller-2023">Peugeot Traveller 2.0 BlueHDi (2023) - 6.9 L/100 km</option>
                            <option value="mercedes-v-class-2024">Mercedes V-Class 220d (2024) - 7.1 L/100 km</option>
                            <option value="opel-zafira-2021">Opel Zafira Life 2.0 D (2021) - 6.8 L/100 km</option>
                            <option value="ford-smax-2020">Ford S-Max 2.0 EcoBlue (2020) - 6.0 L/100 km</option>
                            <option value="ford-galaxy-2020">Ford Galaxy 2.0 EcoBlue (2020) - 6.1 L/100 km</option>
                            <option value="seat-alhambra-2020">Seat Alhambra 2.0 TDI (2020) - 6.1 L/100 km</option>
                            <option value="kia-carnival-2024">Kia Carnival 2.2 CRDi (2024) - 7.6 L/100 km</option>
                            <option value="peugeot-4008-2013">Peugeot 4008 1.8 HDi (2013) - 5.6 L/100 km</option>
                            <option value="mg4-2024">MG4 Electric (2024) - 16.6 kWh/100 km</option>
                            <option value="tesla-model-s-2024">Tesla Model S (2024) - 18.5 kWh/100 km</option>
                            <option value="tesla-model-x-2024">Tesla Model X (2024) - 21.0 kWh/100 km</option>
                            <option value="chevrolet-spark-2015">Chevrolet Spark 1.0 (2015) - 5.7 L/100 km</option>
                            <option value="chevrolet-aveo-2015">Chevrolet Aveo 1.2 (2015) - 6.0 L/100 km</option>
                            <option value="citroen-c4-cactus-2019">Citroën C4 Cactus 1.2 (2019) - 5.3 L/100 km</option>
                            <option value="skoda-kodiaq-2024">Skoda Kodiaq 2.0 TDI (2024) - 6.2 L/100 km</option>
                            <option value="alfa-romeo-mito-2018">Alfa Romeo MiTo 1.4 (2018) - 6.1 L/100 km</option>
                            <option value="renault-espace-2019">Renault Espace 2.0 dCi (2019) - 6.4 L/100 km</option>
                        </optgroup>
                    </select>
                </div>

                <div class="form-group">
                    <label for="fuelType">Tipo di carburante/energia:</label>
                    <select id="fuelType" required>
                        <option value="">Seleziona alimentazione...</option>
                        <option value="benzina">Benzina</option>
                        <option value="diesel">Diesel</option>
                        <option value="gpl">GPL</option>
                        <option value="metano">Metano</option>
                        <option value="metano-benzina">Metano/benzina (bifuel)</option>
                        <option value="ibrido-elettrico-benzina">Ibrido elettrico/benzina</option>
                        <option value="ibrido-elettrico-diesel">Ibrido elettrico/diesel</option>
                        <option value="elettrico">Elettrico</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="fuelPrice" id="fuelPriceLabel">Prezzo carburante (€/L):</label>
                    <input type="number" id="fuelPrice" value="1.65" step="0.01" min="0">
                </div>

                <button id="calculateBtn" class="calculate-btn">Calcola Costo Viaggio</button>
            </div>

            <div id="results" class="results-section" style="display: none;">
                <h2>Risultati del Viaggio</h2>
                
                <div class="result-grid">
                    <div class="result-card">
                        <h3>Distanza</h3>
                        <p class="result-value" id="distanceResult">-</p>
                        <p class="result-label">km</p>
                    </div>

                    <div class="result-card">
                        <h3>Consumo Carburante</h3>
                        <p class="result-value" id="fuelResult">-</p>
                        <p class="result-label" id="fuelUnit">L</p>
                    </div>

                    <div class="result-card">
                        <h3>Costo Benzina</h3>
                        <p class="result-value" id="fuelCostResult">-</p>
                        <p class="result-label">€</p>
                    </div>

                    <div class="result-card">
                        <h3>Pedaggi Autostrada</h3>
                        <p class="result-value" id="tollCostResult">-</p>
                        <p class="result-label">€</p>
                    </div>

                    <div class="result-card highlight">
                        <h3>Costo Totale</h3>
                        <p class="result-value" id="totalCostResult">-</p>
                        <p class="result-label">€</p>
                    </div>

                    <div class="result-card">
                        <h3>Costo per Km</h3>
                        <p class="result-value" id="costPerKmResult">-</p>
                        <p class="result-label">€/km</p>
                    </div>
                </div>

                <div class="result-details">
                    <p><strong>Auto:</strong> <span id="carDetail">-</span></p>
                    <p><strong>Percorso:</strong> <span id="routeDetail">-</span></p>
                    <p><strong>Dettagli Pedaggi:</strong> <span id="tollDetail">-</span></p>
                    <p><strong>Tempo Viaggio:</strong> <span id="timeDetail">-</span></p>
                </div>

                <div id="travelAiPanel" class="travel-ai-panel" style="display:none;">
                    <h3>Assistente Viaggio AI (Gemini)</h3>
                    <p id="travelAiWeather" class="travel-ai-weather">Analisi meteo in corso...</p>
                    <p id="travelAiImpact" class="travel-ai-impact"></p>
                    <ul id="travelAiTips" class="travel-ai-tips"></ul>
                </div>

                <div class="completed-row">
                    <label class="checkbox-label">
                        <input type="checkbox" id="completedTrip">Tratta completata</label>
                    <p class="helper-text">Spunta se hai davvero percorso questa tratta: solo le completate finiscono nel Bilancio.</p>
                </div>

                <div class="result-actions">
                    <button id="saveFavoriteBtn" class="favorite-btn">Salva nei preferiti</button>
                    <button id="openCompanionFromResultBtn" class="pill-btn primary" type="button">Aggiungi amici alla tratta</button>
                    <button id="copySummaryBtn" class="pill-btn" type="button">Copia riepilogo</button>
                    <button id="showTripFuelOnMapBtn" class="pill-btn" type="button">Mostra benzinai su mappa</button>
                    <button id="resetBtn" class="reset-btn">Nuovo Calcolo</button>
                </div>
                <div id="tripActionFeedback" class="helper-text"></div>
            </div>

            <div id="mapSectionHomeMount"></div>
            <section id="mapSection" class="map-section" style="display: none;">
                <div class="map-header">
                    <h3>Percorso e benzinai su mappa</h3>
                    <span id="mapStatus" class="helper-text"></span>
                </div>
                <div id="map" class="map-canvas"></div>
            </section>

            <div id="error" class="error-message" style="display: none;"></div>
            </main>

            <section id="infoPage" class="info-page" style="display: none;">
                <div class="info-header">
                    <h2>Come calcoliamo</h2>
                    <button id="closeInfoView" class="close-btn" type="button" aria-label="Chiudi pagina info">X</button>
                    <p>Qui trovi formule, logica e vantaggi pratici di DriveCalc: perche i risultati sono utili ogni giorno e come sfruttare tutte le funzioni.</p>
                </div>

                <div class="info-grid">
                    <article class="info-card">
                        <h3>Formula carburante</h3>
                        <p><strong>Consumo totale</strong>= (Distanza_km * Consumo_per_100km) / 100</p>
                        <p><strong>Costo carburante</strong>= Consumo totale * Prezzo unitario scelto</p>
                        <p>Il consumo per 100 km cambia in base a modello e alimentazione selezionati.</p>
                    </article>

                    <article class="info-card">
                        <h3>Formula pedaggi</h3>
                        <p>Se la rotta ha pedaggi ufficiali: <strong>Costo pedaggi</strong>= totale pedaggi forniti.</p>
                        <p>Se non ci sono dati ufficiali: <strong>Costo pedaggi stimato</strong>= (Km autostrada * 0.09 €/km) + (Numero caselli * 1.80 €).</p>
                        <p><strong>Numero caselli</strong>= ceil(Km autostrada / 25). Usiamo una media nazionale per stimare i caselli.</p>
                    </article>

                    <article class="info-card">
                        <h3>Come funziona il sito</h3>
                        <p>1) Scegli partenza, arrivo, marca/modello e tipo di alimentazione.</p>
                        <p>2) Prima interroghiamo Google Routes API per distanza, durata e pedaggi aggiornati; se non disponibile usiamo fallback ORS/OSRM.</p>
                        <p>3) Calcoliamo carburante + pedaggi e mostriamo anche km autostrada e km su altre strade direttamente nel riepilogo.</p>
                    </article>

                    <article class="info-card">
                        <h3>Punti forti del calcolatore</h3>
                        <p><strong>Stima completa</strong>: non solo carburante, ma anche pedaggi, tempo viaggio e costo medio al km.</p>
                        <p><strong>Auto reale</strong>: puoi scegliere marca, modello e alimentazione per avvicinare il risultato al tuo caso.</p>
                        <p><strong>Risultato leggibile</strong>: distanza per tipo strada, dettaglio pedaggi e riepilogo pronto da copiare.</p>
                    </article>

                    <article class="info-card">
                        <h3>Vantaggi del Bilancio</h3>
                        <p>Il Bilancio raccoglie le tratte completate e mostra quanto spendi nel mese in modo chiaro.</p>
                        <p>Hai visione immediata di <strong>spesa totale</strong>, <strong>media per tratta</strong>, quota carburante e quota pedaggi.</p>
                        <p>Ti aiuta a confrontare i mesi e capire dove ottimizzare costi e abitudini di viaggio.</p>
                    </article>

                    <article class="info-card">
                        <h3>Vantaggi Tratta in compagnia</h3>
                        <p>Condividi una tratta, inserisci i partecipanti e il sistema calcola in automatico la quota per persona.</p>
                        <p>Riduci errori nei conteggi e mantieni uno storico ordinato delle spese condivise.</p>
                        <p>Utile per viaggi con amici, colleghi e car pooling.</p>
                    </article>

                    <article class="info-card">
                        <h3>Account e sincronizzazione</h3>
                        <p>Con l'account puoi sincronizzare preferiti, bilancio, tratte in compagnia e profilo su piu dispositivi.</p>
                        <p>Questo rende il calcolatore comodo anche quando passi da telefono a desktop.</p>
                    </article>
                </div>

                <button id="backToCalculator" class="back-btn">Torna al calcolatore</button>
            </section>

            <div id="favoritesOverlay" class="modal-overlay" style="display: none;">
                <div class="modal-card">
                    <div class="modal-header">
                        <h3>Preferiti</h3>
                        <button id="closeFavorites" class="close-btn">X</button>
                    </div>
                    <p class="modal-subtitle">Salva le tratte calcolate e ricaricale quando ti servono.</p>
                    <div id="favoritesEmpty" class="empty-state">Nessun preferito salvato.</div>
                    <ul id="favoritesList" class="favorites-list"></ul>
                </div>
            </div>

            <div id="authOverlay" class="modal-overlay" style="display: none;">
                <div class="modal-card account-card">
                    <div class="modal-header">
                        <h3>Account</h3>
                        <button id="closeAuth" class="close-btn">X</button>
                    </div>

                    <div id="authFeedback" class="auth-feedback" style="display:none;"></div>

                    <div id="accountGuestPanel" class="account-panel account-auth-panel">
                        <p id="authGuestSubtitle" class="modal-subtitle">Accedi al tuo account per sincronizzare preferiti, amici, bilancio e la tua auto su tutti i dispositivi.</p>
                        <div class="account-auth-grid">
                            <div id="authIdentifierGroup" class="form-group">
                                <label for="authIdentifier">Nome utente o email</label>
                                <input type="text" id="authIdentifier" placeholder="es. cesare92 oppure nome@example.com" autocomplete="username">
                            </div>
                            <div id="authUsernameGroup" class="form-group" style="display:none;">
                                <label for="authUsername">Nome utente</label>
                                <input type="text" id="authUsername" placeholder="es. cesare92">
                            </div>
                            <div id="authEmailGroup" class="form-group" style="display:none;">
                                <label for="authEmail">Email</label>
                                <input type="email" id="authEmail" placeholder="nome@example.com" autocomplete="email">
                            </div>
                            <div id="authPasswordGroup" class="form-group">
                                <label for="authPassword">Password</label>
                                <div class="auth-password-field">
                                    <input type="password" id="authPassword" placeholder="Almeno 6 caratteri" autocomplete="current-password">
                                    <button id="authPasswordToggleBtn" class="auth-password-toggle" type="button" aria-label="Mostra password">Mostra</button>
                                </div>
                            </div>
                        </div>
                        <div id="authInlineLinks" class="auth-inline-links">
                            <button id="authForgotPasswordBtn" class="auth-inline-link" type="button">Password dimenticata?</button>
                        </div>
                        <div class="auth-actions">
                            <button id="loginBtn" class="pill-btn primary" type="button">Accedi</button>
                            <button id="registerBtn" class="pill-btn primary" type="button" style="display:none;">Registrati</button>
                        </div>
                        <div id="authDivider" class="auth-divider" aria-hidden="true">
                            <span>Oppure</span>
                        </div>
                        <button id="authToggleBtn" class="auth-toggle-btn" type="button">Non hai un account? Registrati</button>
                        <div id="authStatus" class="helper-text"></div>
                    </div>

                    <div id="accountConnectedPanel" class="account-panel" style="display:none;">
                        <p class="modal-subtitle">Gestisci profilo, richieste amicizia e la tua auto in un unico spazio.</p>
                        <div class="account-priority-actions">
                            <button id="accountFriendRequestsToggle" class="pill-btn account-friend-cta" type="button" aria-expanded="false" aria-controls="friendRequestsOverlay">
                                <span class="account-friend-cta-copy">
                                    <span class="account-friend-cta-title">Richieste di amicizia</span>
                                    <span class="account-friend-cta-subtitle">Gestisci ricevute e inviate in un click</span>
                                </span>
                                <span id="accountFriendRequestsBadge" class="account-badge" style="display:none;">0</span>
                            </button>
                        </div>

                        <div class="account-header">
                            <div class="account-avatar-box">
                                <img id="accountAvatarPreview" class="account-avatar" alt="Immagine profilo">
                                <input id="accountAvatarInput" type="file" accept="image/*" hidden>
                                <div class="account-avatar-actions">
                                    <button id="accountAvatarUploadBtn" class="pill-btn" type="button">Cambia foto</button>
                                    <button id="accountAvatarRemoveBtn" class="pill-btn danger" type="button">Rimuovi</button>
                                </div>
                            </div>
                            <div class="account-identity">
                                <h4 id="accountDisplayName">-</h4>
                                <p id="accountDisplayEmail">-</p>
                                <span id="accountMemberSince" class="account-chip">Iscritto: -</span>
                                <span id="accountLastLogin" class="account-chip">Ultimo accesso: -</span>
                            </div>
                        </div>

                        <div class="account-stats-grid">
                            <div class="account-stat-card">
                                <span class="label">Preferiti</span>
                                <strong id="accountStatFavorites">0</strong>
                            </div>
                            <div class="account-stat-card">
                                <span class="label">Tratte completate</span>
                                <strong id="accountStatCompleted">0</strong>
                            </div>
                            <div class="account-stat-card">
                                <span class="label">Amici</span>
                                <strong id="accountStatFriends">0</strong>
                            </div>
                            <div class="account-stat-card">
                                <span class="label">Km completati</span>
                                <strong id="accountStatKm">0</strong>
                            </div>
                        </div>

                        <div class="account-edit-grid">
                            <div class="form-group">
                                <label for="accountProfileUsername">Username</label>
                                <input type="text" id="accountProfileUsername" placeholder="Username pubblico">
                            </div>
                            <div class="form-group">
                                <label for="accountProfileEmail">Email</label>
                                <input type="email" id="accountProfileEmail" readonly>
                            </div>
                            <div class="form-group">
                                <label for="accountProfileLocation">Località</label>
                                <input type="text" id="accountProfileLocation" placeholder="es. Milano">
                            </div>
                            <div class="form-group">
                                <label for="accountProfileBio">Bio</label>
                                <textarea id="accountProfileBio" rows="3" placeholder="Racconta qualcosa di te..."></textarea>
                            </div>
                        </div>

                        <div class="auth-actions">
                            <button id="accountSaveProfileBtn" class="pill-btn primary" type="button">Salva profilo</button>
                            <button id="logoutBtn" class="pill-btn danger" type="button">Esci</button>
                        </div>

                        <div id="accountMyCarPanel" class="account-section account-mycar-section">
                            <h4 class="section-title">La mia auto</h4>
                            <p class="modal-subtitle">Scegli marca e modello, carica una foto e monitora i dati principali in tempo reale.</p>
                            <div class="mycar-form">
                                <div class="form-group">
                                    <label for="myCarBrand">Marca preferita:</label>
                                    <select id="myCarBrand">
                                        <option value="">Seleziona marca...</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="myCarModel">Modello preferito:</label>
                                    <select id="myCarModel">
                                        <option value="">Seleziona modello...</option>
                                    </select>
                                </div>
                            </div>
                            <div class="mycar-preview">
                                <div class="mycar-photo">
                                    <div class="mycar-photo-frame">
                                        <img id="myCarImage" class="mycar-image" alt="Anteprima auto" />
                                        <button id="myCarUploadBtn" class="mycar-upload-btn" type="button">Allega foto auto</button>
                                    </div>
                                    <div class="mycar-actions">
                                        <button id="myCarRemoveBtn" class="pill-btn" type="button">Rimuovi foto</button>
                                        <input id="myCarUploadInput" type="file" accept="image/*" hidden>
                                    </div>
                                    <div id="myCarUploadStatus" class="helper-text"></div>
                                </div>
                                <div class="mycar-info">
                                    <h4 id="myCarTitle">Nessun modello selezionato</h4>
                                    <p id="myCarMeta">Seleziona marca e modello nel calcolatore.</p>
                                    <p id="myCarHint" class="helper-text"></p>
                                </div>
                            </div>
                            <div class="mycar-stats">
                                <div class="mycar-stat">
                                    <span class="label">Km completati</span>
                                    <strong id="myCarKm">-</strong>
                                </div>
                                <div class="mycar-stat">
                                    <span class="label">Tratte completate</span>
                                    <strong id="myCarTrips">-</strong>
                                </div>
                                <div class="mycar-stat">
                                    <span class="label">Spesa totale</span>
                                    <strong id="myCarTotalCost">-</strong>
                                </div>
                                <div class="mycar-stat">
                                    <span class="label">Costo medio/km</span>
                                    <strong id="myCarAvgCost">-</strong>
                                </div>
                            </div>
                        </div>

                        <div id="accountStatus" class="helper-text"></div>
                    </div>
                </div>
            </div>

            <div id="friendRequestsOverlay" class="modal-overlay" style="display: none;">
                <div class="modal-card friend-requests-card">
                    <div class="modal-header">
                        <h3>Richieste di amicizia</h3>
                        <button id="closeFriendRequests" class="close-btn">X</button>
                    </div>
                    <p class="modal-subtitle">Invia nuove richieste e gestisci quelle ricevute/inviate.</p>

                    <div class="participants-input">
                        <input id="friendSearchInput" type="email" placeholder="Email utente da aggiungere">
                        <button id="sendFriendRequestBtn" class="pill-btn primary" type="button">Invia richiesta</button>
                    </div>
                    <div id="friendSearchResults" class="filter-results" aria-live="polite"></div>
                    <div id="friendsStatus" class="helper-text"></div>

                    <h4 class="section-title">Richieste ricevute</h4>
                    <div id="friendRequestsEmpty" class="empty-state">Nessuna richiesta ricevuta.</div>
                    <ul id="friendRequestsList" class="favorites-list companions-list"></ul>

                    <h4 class="section-title">Richieste inviate</h4>
                    <div id="friendOutgoingEmpty" class="empty-state">Nessuna richiesta inviata.</div>
                    <ul id="friendOutgoingList" class="favorites-list companions-list"></ul>
                </div>
            </div>

            <div id="friendsOverlay" class="modal-overlay" style="display: none;">
                <div class="modal-card">
                    <div class="modal-header">
                        <h3>I miei amici</h3>
                        <button id="closeFriends" class="close-btn">X</button>
                    </div>
                    <p class="modal-subtitle">Clicca un amico per vedere subito profilo e dati condivisi.</p>
                    <div id="friendsStatusMirror" class="helper-text"></div>

                    <h4 class="section-title">Privacy condivisione</h4>
                    <label class="checkbox-label"><input id="shareFavoritesToggle" type="checkbox">Condividi preferiti</label>
                    <label class="checkbox-label"><input id="shareMyCarToggle" type="checkbox">Condividi la mia auto</label>
                    <label class="checkbox-label"><input id="shareCompanionsToggle" type="checkbox">Condividi tratte in compagnia</label>

                    <h4 class="section-title">I miei amici</h4>
                    <div id="friendsEmpty" class="empty-state">Nessun amico aggiunto.</div>
                    <ul id="friendsList" class="favorites-list companions-list"></ul>

                    <h4 class="section-title">Profilo e dati condivisi</h4>
                    <div id="friendSharedEmpty" class="empty-state">Clicca un amico per vedere profilo, località, bio e dati condivisi.</div>
                    <ul id="friendSharedList" class="favorites-list companions-list"></ul>
                </div>
            </div>

            <div id="aiChatOverlay" class="modal-overlay" style="display: none;">
                <div class="modal-card ai-chat-card">
                    <div class="modal-header">
                        <h3>Chat AI DriveCalc (Gemini)</h3>
                        <button id="closeAiChat" class="close-btn">X</button>
                    </div>
                    <p class="modal-subtitle">Puoi conversare su qualsiasi argomento; per i viaggi usa anche i dati di percorso, costi, consumi e meteo.</p>
                    <div id="aiChatStatus" class="helper-text">Pronto. Scrivi la tua domanda.</div>
                    <div id="aiChatMessages" class="ai-chat-messages" role="log" aria-live="polite"></div>
                    <div class="ai-chat-actions">
                        <input id="aiChatInput" type="text" placeholder="Es: Conviene partire tra 2 ore? / Spiegami la relatività" maxlength="1800">
                        <button id="newAiChatBtn" class="pill-btn" type="button">Nuova chat</button>
                        <button id="aiChatSendBtn" class="pill-btn primary" type="button">Invia</button>
                    </div>
                </div>
            </div>

            <div id="fuelFinderOverlay" class="modal-overlay fuel-finder-overlay-full" style="display: none;">
                <div class="modal-card fuel-finder-card">
                    <div class="modal-header">
                        <h3>Ricerca benzinaio smart</h3>
                        <button id="closeFuelFinder" class="close-btn">X</button>
                    </div>
                    <p class="modal-subtitle">Trova i benzinai vicino a te e confronta subito i prezzi del carburante.</p>

                    <div class="fuel-finder-toolbar">
                        <div class="form-group">
                            <label for="fuelFinderFuelType">Tipo carburante</label>
                            <select id="fuelFinderFuelType">
                                <option value="benzina">Benzina</option>
                                <option value="diesel">Diesel</option>
                                <option value="gpl">GPL</option>
                                <option value="metano">Metano</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="fuelFinderRadius">Raggio</label>
                            <select id="fuelFinderRadius">
                                <option value="2" selected>2 km</option>
                                <option value="3">3 km</option>
                                <option value="5">5 km</option>
                                <option value="10">10 km</option>
                                <option value="15">15 km</option>
                            </select>
                        </div>
                        <div class="fuel-finder-actions">
                            <button id="useFuelFinderLocationBtn" class="pill-btn" type="button">Usa la mia posizione</button>
                            <button id="findFuelStationsBtn" class="pill-btn primary" type="button">Cerca benzinai</button>
                        </div>
                    </div>

                    <div id="fuelFinderStatus" class="helper-text">Mappa pronta. Premi "Usa la mia posizione" per iniziare.</div>
                    <div class="fuel-finder-content">
                        <div class="fuel-finder-map-column">
                            <div id="fuelFinderMapMount" class="fuel-finder-map-mount"></div>
                        </div>
                        <div class="fuel-finder-list-column">
                            <div id="fuelFinderSummary" class="fuel-finder-summary" style="display:none;"></div>
                            <div id="fuelStationsEmpty" class="empty-state">Nessun risultato ancora disponibile.</div>
                            <ul id="fuelStationsList" class="favorites-list fuel-stations-list"></ul>
                        </div>
                    </div>
                </div>
            </div>

            <div id="companionsOverlay" class="modal-overlay" style="display: none;">
                <div class="modal-card">
                    <div class="modal-header">
                        <h3>Tratta in compagnia</h3>
                        <button id="closeCompanions" class="close-btn">X</button>
                    </div>
                    <p class="modal-subtitle">Salva la tratta appena calcolata, aggiungi i partecipanti e dividi il costo totale.</p>

                    <div id="companionsTripInfo" class="info-inline">Nessuna tratta calcolata.</div>

                    <div class="companion-picker-actions">
                        <button id="openCompanionFriendsBtn" class="pill-btn primary" type="button">Aggiungi amico</button>
                        <button id="toggleManualCompanionBtn" class="pill-btn" type="button">Aggiungi non iscritto</button>
                    </div>

                    <div id="companionFriendsPanel" class="companion-friends-panel" style="display:none;">
                        <div id="companionFriendsEmpty" class="empty-state">Nessun amico disponibile. Aggiungi amici per selezionarli qui.</div>
                        <ul id="companionFriendsList" class="favorites-list companion-friends-list"></ul>
                    </div>

                    <div id="companionManualPanel" class="participants-input" style="display:none;">
                        <input id="companionName" type="text" placeholder="Nome amico non iscritto">
                        <button id="addCompanionBtn" class="pill-btn primary" type="button">Aggiungi nome</button>
                    </div>

                    <div id="companionsEmpty" class="empty-state">Aggiungi almeno una persona per calcolare la quota.</div>
                    <ul id="companionsList" class="favorites-list companions-list"></ul>

                    <div class="split-summary">
                        <span>Partecipanti: <strong id="participantsCount">0</strong></span>
                        <span>Quota per persona: <strong id="splitValue">€0.00</strong></span>
                    </div>

                    <div class="modal-actions">
                        <button id="closeCompanionsSecondary" class="pill-btn" type="button">Chiudi</button>
                        <button id="saveCompanionTrip" class="favorite-btn">Salva tratta condivisa</button>
                    </div>

                    <h4 class="section-title">Cronologia tratte in compagnia</h4>
                    <div id="companionsHistoryEmpty" class="empty-state">Nessuna tratta in compagnia salvata.</div>
                    <ul id="companionsHistoryList" class="favorites-list companions-list"></ul>
                </div>
            </div>

            <div id="budgetOverlay" class="modal-overlay" style="display: none;">
                <div class="modal-card budget-card">
                    <div class="modal-header">
                        <h3>Bilancio</h3>
                        <button id="closeBudget" class="close-btn">X</button>
                    </div>
                    <p class="modal-subtitle">Analisi spese tratte completate con trend mensile professionale.</p>

                    <div class="budget-header-row">
                        <div class="budget-meta">Periodo: <strong id="budgetMonthLabel">-</strong></div>
                        <div id="budgetRangeSwitcher" class="budget-range-switcher" role="group" aria-label="Filtro periodo bilancio">
                            <button type="button" class="budget-range-btn is-active" data-budget-range="1m">1M</button>
                            <button type="button" class="budget-range-btn" data-budget-range="3m">3M</button>
                            <button type="button" class="budget-range-btn" data-budget-range="6m">6M</button>
                            <button type="button" class="budget-range-btn" data-budget-range="1y">1A</button>
                        </div>
                    </div>

                    <div class="budget-grid">
                        <div class="budget-card-item">
                            <span class="label">Tratte periodo</span>
                            <strong id="budgetTotalTrips">0</strong>
                        </div>
                        <div class="budget-card-item">
                            <span class="label">Spesa totale</span>
                            <strong id="budgetTotalCost">€0.00</strong>
                        </div>
                        <div class="budget-card-item">
                            <span class="label">Media per tratta</span>
                            <strong id="budgetAvgCost">€0.00</strong>
                        </div>
                        <div class="budget-card-item">
                            <span class="label">Carburante totale</span>
                            <strong id="budgetFuelCost">€0.00</strong>
                        </div>
                        <div class="budget-card-item">
                            <span class="label">Pedaggi totali</span>
                            <strong id="budgetTollCost">€0.00</strong>
                        </div>
                        <div class="budget-card-item">
                            <span class="label">Km complessivi</span>
                            <strong id="budgetTotalKm">0 km</strong>
                        </div>
                    </div>

                    <div class="budget-analysis-grid">
                        <div class="budget-analysis-item">
                            <span class="label">Spesa media mensile</span>
                            <strong id="budgetMonthlyAvg">€0.00</strong>
                        </div>
                        <div class="budget-analysis-item">
                            <span class="label">Mese piu costoso</span>
                            <strong id="budgetPeakMonth">-</strong>
                        </div>
                    </div>

                    <section class="budget-chart-card" aria-labelledby="budgetChartTitle">
                        <div class="budget-chart-header">
                            <h4 id="budgetChartTitle" class="section-title">Trend mensile</h4>
                            <span id="budgetChartHint" class="helper-text"></span>
                        </div>
                        <div id="budgetTrendBars" class="budget-trend-bars"></div>
                    </section>

                    <h4 class="section-title">Tratte nel periodo</h4>
                    <div id="budgetEmpty" class="empty-state">Nessuna tratta completata nel periodo selezionato.</div>
                    <ul id="budgetTripsList" class="favorites-list companions-list budget-trips-list"></ul>
                </div>
            </div>

            <div id="securityOverlay" class="modal-overlay" style="display: none;">
                <div class="modal-card security-card">
                    <div class="modal-header">
                        <h3>Sicurezza</h3>
                        <button id="closeSecurity" class="close-btn">X</button>
                    </div>
                    <p class="modal-subtitle">Aggiorna la password del tuo account in modo sicuro.</p>
                    <div class="account-security-grid">
                        <div class="form-group">
                            <label for="accountCurrentPassword">Password attuale</label>
                            <input type="password" id="accountCurrentPassword" placeholder="Inserisci password attuale">
                        </div>
                        <div class="form-group">
                            <label for="accountNewPassword">Nuova password</label>
                            <input type="password" id="accountNewPassword" placeholder="Nuova password (min 6 caratteri)">
                        </div>
                    </div>
                    <button id="accountChangePasswordBtn" class="pill-btn primary" type="button">Aggiorna password</button>
                    <div id="securityStatus" class="helper-text"></div>
                </div>
            </div>

            <div id="myCarConsentOverlay" class="modal-overlay" style="display: none;">
                <div class="modal-card consent-card">
                    <div class="modal-header">
                        <h3>Consenso caricamento foto</h3>
                        <button id="closeMyCarConsent" class="close-btn">X</button>
                    </div>
                    <p class="modal-subtitle">La foto rimane solo sul tuo dispositivo (local storage). Vuoi continuare?</p>
                    <div class="modal-actions">
                        <button id="cancelMyCarConsent" class="pill-btn">Annulla</button>
                        <button id="acceptMyCarConsent" class="pill-btn primary">Continua</button>
                    </div>
                </div>
            </div>
        </div>

        <section class="seo-content" aria-labelledby="seoGuidesTitle">
            <h2 id="seoGuidesTitle">Guide utili per ridurre il costo viaggio</h2>
            <p class="seo-intro">Risorse rapide per stimare pedaggi, carburante e tempi in modo piu preciso prima di partire.</p>
            <div class="seo-guides-grid">
                <article class="seo-guide-card">
                    <h3><a href="guida-costo-viaggio-auto.html">Come calcolare il costo viaggio auto nel 2026</a></h3>
                    <p>Metodo pratico per sommare carburante, pedaggi e costo medio a km, con esempi reali su tratte italiane.</p>
                </article>
                <article class="seo-guide-card">
                    <h3><a href="guida-pedaggi-autostrada-italia.html">Pedaggi autostradali in Italia: cosa incide davvero</a></h3>
                    <p>Panoramica su classi veicolo, tratte, caselli e differenze tra costo pedaggio ufficiale e stima.</p>
                </article>
                <article class="seo-guide-card">
                    <h3><a href="guida-risparmio-carburante-viaggio.html">Strategie per spendere meno carburante nei viaggi lunghi</a></h3>
                    <p>Consigli concreti su velocita, carico, soste e scelta distributore per ridurre la spesa totale.</p>
                </article>
            </div>
        </section>

        <section class="seo-faq" aria-labelledby="seoFaqTitle">
            <h2 id="seoFaqTitle">FAQ costo viaggio</h2>
            <details>
                <summary>Come viene stimato il costo carburante?</summary>
                <p>Il calcolo usa km del percorso, consumo medio del veicolo e prezzo carburante inserito da te, con aggiornamento immediato del totale.</p>
            </details>
            <details>
                <summary>Il tempo di viaggio e affidabile?</summary>
                <p>Quando disponibili, vengono usati provider live di routing. In fallback viene mostrata una stima, indicata chiaramente nel dettaglio risultato.</p>
            </details>
            <details>
                <summary>Posso confrontare rapidamente tratte diverse?</summary>
                <p>Si. Calcola piu percorsi e salva i risultati nei preferiti per confrontare km, pedaggi, carburante e costo totale.</p>
            </details>
        </section>

        <footer>
            <p>Calcoli basati su dati reali di pedaggi autostradali italiani e consumi medi per categoria auto</p>
            <p>Non ti dimenticate di controllare il prezzo del carburante aggiornato! </p>
            <div class="site-badge">Sito web realizzato da Cesare Caroppi</div>
        </footer>
    </div>
    <script src="config.public.js?v=3"></script>
    <script src="script.js?v=61"></script>
</body>
</html>
